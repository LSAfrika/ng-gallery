<app-nav></app-nav>

<div class="main">

  <div class="messagecontainer "  #chatview>

  <!-- <div class="backpanel">
    <div (click)="backtoprofile()" *ngIf="ui.postowner|async as currentuser">{{currentuser.username}}</div>
    <svg (click)="closemessage()" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="margin-left:auto;fill:rgb(20 184 166);width:25px ;height:25px;"><path d="M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"></path></svg>
  </div> -->
  <ng-container *ngIf="msgservice.userchat$|async as chatmessages">
    <!--  [ngClass]="{friend: message.from === this.userid }" -->
    {{messages}}
    <div class="singlemessagecontainer" *ngFor="let chatmessage of chatmessages;let i=index">
      <!-- friendmessagebubble: message.from === this.userid , -->
      <div class="messagebubble"
       [ngClass]="{friendmessagebubble: chatmessage?.from === this.userid, friend: chatmessage?.from !== this.userid}" >


       <span >{{chatmessage?.message}}</span>
       <!-- <span *ngIf=""> {{message.message}} </span> -->
      </div>
    </div>
    <!-- {{message}} -->
  <div class="sender">
  <span role="textbox" contenteditable  #messendtosend ></span>
    <svg (click)="sendmessage()" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
     style="fill: rgba(20 184 166);transform:rotate(-15deg) ;width: 30px;height: 30px;"><path d="m21.426 11.095-17-8A1 1 0 0 0 3.03 4.242l1.212 4.849L12 12l-7.758 2.909-1.212 4.849a.998.998 0 0 0 1.396 1.147l17-8a1 1 0 0 0 0-1.81z"></path></svg>
  </div>
  </ng-container>
  </div>
</div>

